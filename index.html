<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
	"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>

	<title>strogo/bloggart @ GitHub</title>
	
	<style type="text/css">
		body {
  		margin-top: 1.0em;
  		background-color: #990000;
		  font-family: "Helvetica,Arial,FreeSans";
  		color: #ffffff;
    }
    #container {
      margin: 0 auto;
      width: 700px;
    }
		h1 { font-size: 3.8em; color: #bf2af0; margin-bottom: 3px; }
		h1 .small { font-size: 0.4em; }
		h1 a { text-decoration: none }
		h2 { font-size: 1.5em; color: #bf2af0; }
    h3 { text-align: center; color: #bf2af0; }
    a { color: #bf2af0; }
    .description { font-size: 1.2em; margin-bottom: 30px; margin-top: 30px; font-style: italic;}
    .download { float: right; }
		pre { background: #000; color: #fff; padding: 15px;}
    hr { border: 0; width: 80%; border-bottom: 1px solid #aaa}
    .footer { text-align:center; padding-top:30px; font-style: italic; }
	</style>
	
</head>

<body>

<div class="header">
	<form class="header_search" action="/search" method="get">
		<fieldset class="header_search_fields">
			<input class="header_search_query" type="text" name="query" size="25" maxlength="50" />&nbsp;<input class="search_button" type="submit" value="Search" />
		</fieldset>

	</form>
	<a href="/"><img src="/images/site-logo.png" alt="Linode Library Home" /></a>
</div>
<div class="header_link_bar">
	<div class="header_links">
		<img src="/images/linblock.png" alt="Linode Block" />&nbsp;<a class="header_link" href="http://www.linode.com/?r=f4ac5ae5f59e43a8b31de8077ceab27bd1e60c80">Linode Home</a>
	</div>
	<div class="left_cap">
		<img style="margin:0px;padding:0px;border:0px;border-style:none;" src="/images/left-cap.png" alt="" />

	</div>

</div>
<div class="left_nav_block">
<div class="left_nav_block_title">
Categories
</div>
	<div class="ll_cont" onmouseover="style.backgroundColor='#e3f6e5';style.border='1px solid black';" onmouseout="style.backgroundColor='#fcfcfc';style.border='1px solid #fcfcfc';" onclick="window.location='http://library.linode.com/getting-started';"><a class="left_link" href="/getting-started">Getting Started</a></div>
	<div class="ll_cont" onmouseover="style.backgroundColor='#e3f6e5';style.border='1px solid black';" onmouseout="style.backgroundColor='#fcfcfc';style.border='1px solid #fcfcfc';" onclick="window.location='http://library.linode.com/beginners-guide';"><a class="left_link" href="/beginners-guide">Beginner's Guide</a></div>
	<div class="ll_cont" onmouseover="style.backgroundColor='#e3f6e5';style.border='1px solid black';" onmouseout="style.backgroundColor='#fcfcfc';style.border='1px solid #fcfcfc';" onclick="window.location='http://library.linode.com/using-linux';"><a class="left_link" href="/using-linux">Using Linux</a></div>

	<div class="ll_cont" onmouseover="style.backgroundColor='#e3f6e5';style.border='1px solid black';" onmouseout="style.backgroundColor='#fcfcfc';style.border='1px solid #fcfcfc';" onclick="window.location='http://library.linode.com/linode-manager';"><a class="left_link" href="/linode-manager">Linode Manager</a></div>
	<div class="ll_cont" onmouseover="style.backgroundColor='#e3f6e5';style.border='1px solid black';" onmouseout="style.backgroundColor='#fcfcfc';style.border='1px solid #fcfcfc';" onclick="window.location='http://library.linode.com/networking';"><a class="left_link" href="/networking">Networking</a></div>
	<div class="ll_cont" onmouseover="style.backgroundColor='#e3f6e5';style.border='1px solid black';" onmouseout="style.backgroundColor='#fcfcfc';style.border='1px solid #fcfcfc';" onclick="window.location='http://library.linode.com/lamp-guides';"><a class="left_link" href="/lamp-guides">LAMP Guides</a></div>
	<div class="ll_cont" onmouseover="style.backgroundColor='#e3f6e5';style.border='1px solid black';" onmouseout="style.backgroundColor='#fcfcfc';style.border='1px solid #fcfcfc';" onclick="window.location='http://library.linode.com/lemp-guides';"><a class="left_link" href="/lemp-guides">LEMP Guides</a></div>
	<div class="ll_cont" onmouseover="style.backgroundColor='#e3f6e5';style.border='1px solid black';" onmouseout="style.backgroundColor='#fcfcfc';style.border='1px solid #fcfcfc';" onclick="window.location='http://library.linode.com/web-servers';"><a class="left_link" href="/web-servers">Web Servers</a></div>
	<div class="ll_cont" onmouseover="style.backgroundColor='#e3f6e5';style.border='1px solid black';" onmouseout="style.backgroundColor='#fcfcfc';style.border='1px solid #fcfcfc';" onclick="window.location='http://library.linode.com/web-applications';"><a class="left_link" href="/web-applications">Web Applications</a></div>

	<div class="ll_cont" onmouseover="style.backgroundColor='#e3f6e5';style.border='1px solid black';" onmouseout="style.backgroundColor='#fcfcfc';style.border='1px solid #fcfcfc';" onclick="window.location='http://library.linode.com/email';"><a class="left_link" href="/email">Email Guides</a></div>
	<div class="ll_cont" onmouseover="style.backgroundColor='#e3f6e5';style.border='1px solid black';" onmouseout="style.backgroundColor='#fcfcfc';style.border='1px solid #fcfcfc';" onclick="window.location='http://library.linode.com/linux-ha';"><a class="left_link" href="/linux-ha">High Availability</a></div>
	<div class="ll_cont" onmouseover="style.backgroundColor='#e3f6e5';style.border='1px solid black';" onmouseout="style.backgroundColor='#fcfcfc';style.border='1px solid #fcfcfc';" onclick="window.location='http://library.linode.com/ssl-guides';"><a class="left_link" href="/ssl-guides">SSL Guides</a></div>
	<div class="ll_cont" onmouseover="style.backgroundColor='#e3f6e5';style.border='1px solid black';" onmouseout="style.backgroundColor='#fcfcfc';style.border='1px solid #fcfcfc';" onclick="window.location='http://library.linode.com/databases';"><a class="left_link" href="/databases">Databases</a></div>
	<div  style="padding-left: 25px;" class="ll_cont" onmouseover="style.backgroundColor='#e3f6e5';style.border='1px solid black';" onmouseout="style.backgroundColor='#fcfcfc';style.border='1px solid #fcfcfc';" onclick="window.location='http://library.linode.com/databases/mysql';"><a class="left_link" href="/databases/mysql">MySQL</a></div>
	<div  style="padding-left: 25px;" class="ll_cont" onmouseover="style.backgroundColor='#e3f6e5';style.border='1px solid black';" onmouseout="style.backgroundColor='#fcfcfc';style.border='1px solid #fcfcfc';" onclick="window.location='http://library.linode.com/databases/postgresql';"><a class="left_link" href="/databases/postgresql">PostgreSQL</a></div>

	<div  style="padding-left: 25px;" class="ll_cont" onmouseover="style.backgroundColor='#e3f6e5';style.border='1px solid black';" onmouseout="style.backgroundColor='#fcfcfc';style.border='1px solid #fcfcfc';" onclick="window.location='http://library.linode.com/databases/oracle';"><a class="left_link" href="/databases/oracle">Oracle 10g XE</a></div>
	<div  style="padding-left: 25px;" class="ll_cont_selected" onmouseover="style.backgroundColor='#e3f6e5';style.border='1px solid black';" onmouseout="style.backgroundColor='#f5f5f5';;style.border='1px solid #a0a0a0';" onclick="window.location='http://library.linode.com/databases/mongodb';"><a class="left_link" href="/databases/mongodb">MongoDB</a></div>
	<div  style="padding-left: 25px;" class="ll_cont" onmouseover="style.backgroundColor='#e3f6e5';style.border='1px solid black';" onmouseout="style.backgroundColor='#fcfcfc';style.border='1px solid #fcfcfc';" onclick="window.location='http://library.linode.com/databases/couchdb';"><a class="left_link" href="/databases/couchdb">CouchDB</a></div>
	<div  style="padding-left: 25px;" class="ll_cont" onmouseover="style.backgroundColor='#e3f6e5';style.border='1px solid black';" onmouseout="style.backgroundColor='#fcfcfc';style.border='1px solid #fcfcfc';" onclick="window.location='http://library.linode.com/databases/redis';"><a class="left_link" href="/databases/redis">Redis</a></div>
	<div class="ll_cont" onmouseover="style.backgroundColor='#e3f6e5';style.border='1px solid black';" onmouseout="style.backgroundColor='#fcfcfc';style.border='1px solid #fcfcfc';" onclick="window.location='http://library.linode.com/server-monitoring';"><a class="left_link" href="/server-monitoring">Server Monitoring</a></div>
	<div class="ll_cont" onmouseover="style.backgroundColor='#e3f6e5';style.border='1px solid black';" onmouseout="style.backgroundColor='#fcfcfc';style.border='1px solid #fcfcfc';" onclick="window.location='http://library.linode.com/development';"><a class="left_link" href="/development">Development</a></div>

	<div class="ll_cont" onmouseover="style.backgroundColor='#e3f6e5';style.border='1px solid black';" onmouseout="style.backgroundColor='#fcfcfc';style.border='1px solid #fcfcfc';" onclick="window.location='http://library.linode.com/communications';"><a class="left_link" href="/communications">Communications</a></div>
	<div class="ll_cont" onmouseover="style.backgroundColor='#e3f6e5';style.border='1px solid black';" onmouseout="style.backgroundColor='#fcfcfc';style.border='1px solid #fcfcfc';" onclick="window.location='http://library.linode.com/advanced';"><a class="left_link" href="/advanced">Advanced</a></div>
	<div class="ll_cont" onmouseover="style.backgroundColor='#e3f6e5';style.border='1px solid black';" onmouseout="style.backgroundColor='#fcfcfc';style.border='1px solid #fcfcfc';" onclick="window.location='http://library.linode.com/troubleshooting';"><a class="left_link" href="/troubleshooting">Troubleshooting</a></div>
	<div class="ll_cont" onmouseover="style.backgroundColor='#e3f6e5';style.border='1px solid black';" onmouseout="style.backgroundColor='#fcfcfc';style.border='1px solid #fcfcfc';" onclick="window.location='http://library.linode.com/contribute';"><a class="left_link" href="/contribute">How to Contribute</a></div>
	<div class="ll_cont" onmouseover="style.backgroundColor='#e3f6e5';style.border='1px solid black';" onmouseout="style.backgroundColor='#fcfcfc';style.border='1px solid #fcfcfc';" onclick="window.location='http://library.linode.com/sitemap';"><a class="left_link" href="/sitemap">Sitemap</a></div>

</div>

<div class="left_rss_block" style="padding-left:10px;">
	<a type="application/rss+xml" href="/feeds/linode-library.xml"><img src="/images/rss-icon-big.png" alt="Linode Library RSS Feed" /></a>
</div>
<div class="document_container">
	<div class="location_bar">
		<a class="location_bar_link" href="/">Linode Library Home</a> :: <a class="location_bar_link" href="/databases/">Database Management Systems</a> :: <a class="location_bar_link" href="/databases/mongodb/">The MongoDB Database System</a> :: Use MongoDB to Store Application Data on Debian 5 (Lenny)
	</div>

	<div class="doc_functions_bar">
			<a type="text/html" onclick="javascript:window.open(this.href); return false;" href="debian-5-lenny-print"><img src="/images/print-icon.png" style="border-style: none; margin: 0px; padding: 0px;" alt="Print View" /></a>
		<a type="application/pdf" onclick="javascript:window.open(this.href); return false;" href="debian-5-lenny.pdf"><img style="border-style: none; margin: 0px; padding: 0px;" src="/images/pdf-icon.png" alt="Download PDF" /></a>
		<a type="text/plain" onclick="javascript:window.open(this.href); return false;" href="debian-5-lenny.txt"><img style="border-style: none; margin: 0px; padding: 0px;" src="/images/rst-icon.png" alt="Download RST" /></a>

	</div>	


<div class="document" id="use-mongodb-to-store-application-data-on-debian-5-lenny">
<h1 class="title">Use MongoDB to Store Application Data on Debian 5 (Lenny)</h1>

<div class="line-block">
<div class="line">Автор: <a class="reference external" href="mailto:docs&#64;linode.com">Sam Kleinman</a><img src="/images/external-link-icon.png" alt="External Link" style="border:0px;margin:0px;padding:0px;" /></div>

<div class="line">Published: February 3, 2010</div>
<div class="line">Revised: April 12, 2010</div>
</div>
<div>
<a id="ck_facebook" class="stbar chicklet" href="javascript:void(0);"><img style="margin:0px; padding:2px; border-style:none; border-width:0px;" src="http://w.sharethis.com/chicklets/facebook.gif" /></a>
<a id="ck_twitter" class="stbar chicklet" href="javascript:void(0);"><img style="margin:0px; padding:2px; border-style:none; border-width:0px;" src="http://w.sharethis.com/chicklets/twitter.gif" /></a>
<a id="ck_sharethis" class="stbar chicklet" href="javascript:void(0);"><img style="margin:0px; padding:2px; border-style:none; border-width:0px;" src="http://w.sharethis.com/chicklets/sharethis.gif" /></a>
<script type="text/javascript">
	var shared_object = SHARETHIS.addEntry({
	title: document.title,
	url: document.location.href
});

shared_object.attachButton(document.getElementById("ck_sharethis"));
shared_object.attachChicklet("facebook", document.getElementById("ck_facebook"));
shared_object.attachChicklet("twitter", document.getElementById("ck_twitter"));
</script>
</div>

<p>MongoDB is a non-traditional database engine that provides access to
non-relational key-value databases. It is part of the growing
NoSQL movement, which seeks to provide an alternative to traditional
relational database management systems (RDBMS) with more flexible
tools that provide greater abilities to scale beyond the typical
capability of traditional solutions. In addition to its schema-free
design and scalable architecture, MongoDB provides a JSON-based output
format and specialized language specific bindings that make it
particularly attractive for use in custom application development.</p>
<p>Although MongoDB is a relatively new project and has not yet been
packaged by most major operating system distributions, the software
has been used in a number of large scale <a class="reference external" href="http://www.mongodb.org/display/DOCS/Production+Deployments">production deployments</a><img src="/images/external-link-icon.png" alt="External Link" style="border:0px;margin:0px;padding:0px;" />

including systems that power sites such as the social coding
platform &quot;GitHub,&quot; the open source project hosting service &quot;SourceForge,&quot;
and the Internet discussion service &quot;DISQUS.&quot; If you are an
application developer in need of a highly robust and flexible data
storage system, you may consider using MongoDB in your application.</p>
<p>This document addresses the installation process along with an
introduction to fundamental operations and functions for using
MongoDB. Before installing MongoDB, we assume that you have followed
our <a class="reference external" href="/getting-started/">getting started guide</a>. If you're new to
Linux server administration you may be interested in our <a class="reference external" href="/using-linux/">using Linux</a>
document series including the <a class="reference external" href="/beginners-guide/">beginner's guide</a>

and <a class="reference external" href="/using-linux/administration-basics">administration basics guide</a>.</p>

<p>These instructions work with the Linode platform. If you don't have a Linode yet, sign up for a <a href="http://www.linode.com/?r=f4ac5ae5f59e43a8b31de8077ceab27bd1e60c80" title="Linode Linux VPS">Linux VPS</a> and get started today.</p>
<!-- TOC_INSERT --><div class="top_toc"><div class="top_toc_header">Contents</div>
<div class="top_toc_i0"><a href="#installing_mongodb">Installing MongoDB</a></div>
<div class="top_toc_i0"><a href="#monitor_for_software_updates_and_security_notices">Monitor for Software Updates and Security Notices</a></div>
<div class="top_toc_i0"><a href="#create_basic_control_scripts">Create Basic Control Scripts</a></div>

<div class="top_toc_i0"><a href="#using_a_basic_init_script">Using a Basic Init Script</a></div>
<div class="top_toc_i0"><a href="#additional_mongodb_functionality">Additional MongoDB Functionality</a></div>
<div class="top_toc_i0"><a href="#more_information">More Information</a></div>
<div class="top_toc_i0"><a href="#license">License</a></div>
</div><!-- END TOC_INSERT -->
<div class="section" id="installing-mongodb">
<a name="installing_mongodb"></a><h2>Installing MongoDB&nbsp;<a href="http://library.linode.com/rtRvnQ"><img src="/images/link-icon.png" style="border:none; margin: 0px; padding: 0px;" alt="Link" /></a></h2>
<p>The MongoDB upstream provides a statically compiled binary of the
MongoDB software for distribution on Linux-based systems. As a
result, installing MongoDB is quite simple. Download the latest
binaries from the <a class="reference external" href="http://www.mongodb.org/display/DOCS/Downloads">upstream source</a><img src="/images/external-link-icon.png" alt="External Link" style="border:0px;margin:0px;padding:0px;" />;
at the time of writing this is version 1.2.1. Also, ensure that you've
downloaded a version compiled for the proper system architecture. The
following example procures the 32-bit version. Please note that the
32-bit version of MongoDB has a database size limit of 2 gigabytes. If
you expect to store more than 2 gigabytes of data, ensure that you have
deployed a 64-bit system and are using the 64-bit version of MongoDB.</p>
<pre class="literal-block">

cd /opt/
wget http://downloads.mongodb.org/linux/mongodb-linux-i686-1.2.1.tgz
tar zxvf mongodb-linux-i686-1.2.1.tgz
mv mongodb-linux-i686-1.2.1 /opt/mongodb
</pre>
<p>MongoDB is now deployed in the <tt class="docutils literal">/opt/mongodb/</tt> folder. The binaries are
located in the <tt class="docutils literal">/opt/mongodb/bin/</tt> folder. For the sake of this
example, we assume that all database files will be stored in the
<tt class="docutils literal">/srv/db/mongodb</tt> hierarchy and that log files will be stored in the
<tt class="docutils literal">/srv/db/mongodb.log</tt> file. Issue the following commands to create these
files and directories:</p>
<pre class="literal-block">

mkdir -p /srv/db/mongodb
touch /srv/db/mongodb.log
</pre>
<p>In this example, we assume that the name of the database will be
<tt class="docutils literal">mongodb</tt>. However, you can modify this name with another name or
naming scheme to reflect the actual uses of your database or
databases.</p>
</div>
<div class="section" id="monitor-for-software-updates-and-security-notices">
<a name="monitor_for_software_updates_and_security_notices"></a><h2>Monitor for Software Updates and Security Notices&nbsp;<a href="http://library.linode.com/PvuzXx"><img src="/images/link-icon.png" style="border:none; margin: 0px; padding: 0px;" alt="Link" /></a></h2>
<p>When running software compiled or installed directly from sources
provided by upstream developers, you are responsible for monitoring
updates, bug fixes, and security issues. After becoming aware of
releases and potential issues, update your software to resolve flaws
and prevent possible system compromise. Monitoring releases and
maintaining up to date versions of all software is crucial for the
security and integrity of a system.</p>
<p>Please monitor the following MongoDB mailing lists for updates to
ensure that you are aware of all updates to the software and can
upgrade appropriately or apply patches and recompile as needed:</p>
<ul class="simple">
<li><a class="reference external" href="http://groups.google.com/group/mongodb-dev">MongoDB Developers List</a><img src="/images/external-link-icon.png" alt="External Link" style="border:0px;margin:0px;padding:0px;" /></li>

<li><a class="reference external" href="http://groups.google.com/group/mongodb-user">MongoDB Users List</a><img src="/images/external-link-icon.png" alt="External Link" style="border:0px;margin:0px;padding:0px;" /></li>
</ul>
<p>When upstream sources offer new releases, repeat the instructions for
installing MongoDB and recompile your software when needed. These
practices are crucial for the ongoing security and functioning of
your system.</p>
</div>
<div class="section" id="create-basic-control-scripts">
<a name="create_basic_control_scripts"></a><h2>Create Basic Control Scripts&nbsp;<a href="http://library.linode.com/LAuCmm"><img src="/images/link-icon.png" style="border:none; margin: 0px; padding: 0px;" alt="Link" /></a></h2>
<p>In typical installations, the MongoDB server process is controlled
using command line arguments to binaries located at
<tt class="docutils literal">/opt/mongodb/bin/mongod</tt>. In an effort to
simplify operation, we will create a simple MongoDB control script
entitled <tt class="docutils literal"><span class="pre">mongodb-start</span></tt> and <tt class="docutils literal"><span class="pre">mongodb-stop</span></tt> located in the

<tt class="docutils literal">/opt/bin/</tt> directory. Runtime configuration of MongoDB in our
deployment will be accomplished by setting configuration directives in
the <tt class="docutils literal">/opt/config/mongodb</tt> file.</p>
<p>Issue the following commands to create the required directories, and
then create the following files described below:</p>
<pre class="literal-block">
mkdir /opt/bin/
mkdir /opt/config/
</pre>
<p><strong>File:</strong> <em>/opt/bin/mongodb-stop</em></p><pre class="file-block">#!/bin/bash

pid=`ps -o pid,command ax | grep mongod | awk '!/awk/ &amp;&amp; !/grep/ {print $1}'`;
if [ &quot;${pid}&quot; != &quot;&quot; ]; then
    kill -2 ${pid};
fi

</pre>
<p><strong>File:</strong> <em>/opt/bin/mongodb-start</em></p><pre class="file-block">#!/bin/sh

/opt/mongodb/bin/mongod --config /opt/config/mongodb \
## --upgrade \ ##runs a database upgrade option if needed \
</pre>
<p><strong>File:</strong> <em>/opt/config/mongodb</em></p><pre class="file-block"># Configuration Options for MongoDB
#
# For More Information, Consider:
# - Configuration Parameters: http://www.mongodb.org/display/DOCS/Command+Line+Parameters
# - File Based Configuration: http://www.mongodb.org/display/DOCS/File+Based+Configuration

dbpath = /srv/db/mongodb
logpath = /srv/db/mongodb.log
logappend = true

bind_ip = 127.0.0.1
port = 27017
fork = true

auth = true
# noauth = true
</pre>
<p>The <tt class="docutils literal"><span class="pre">/opt/bin/mongodb-start</span></tt> script loads <tt class="docutils literal">mongod</tt> with the
options specified in the <tt class="docutils literal">/opt/config/mongodb</tt> file. The commented
lines specify maintenance and upgrade options that you may need to run
occasionally, but they are not required for general use. The

<tt class="docutils literal"><span class="pre">--repair</span></tt> and <tt class="docutils literal"><span class="pre">--update</span></tt> flags perform a check against the
data store or upgrade the data storage system when you upgrade the
database engine.</p>
<p>The <tt class="docutils literal">/opt/config/mongodb</tt> file specifies a number of important
options, which you can modify to control the functioning of
<tt class="docutils literal">mongodb</tt>. The <tt class="docutils literal">dbpath</tt> option indicates that database files will
be stored in <tt class="docutils literal">/srv/db/mongo</tt>. The <tt class="docutils literal">logpath</tt> indicates that
MongoDB's logs will be located in the <tt class="docutils literal">/srv/db/log/mongodb.log</tt>

file, and that new log entries will be appended to the end of the log
rather than overwriting existing log entries even after MongoDB
restarts.</p>
<p>If the <tt class="docutils literal">bind_ip</tt> option is not specified, MongoDB will bind to and
listen for requests on all local IP addresses. In this case, we've
configured MongoDB to <em>only</em> listen for requests on the localhost
interface. Modify this option to allow your MongoDB server to listen
for requests on other IP addresses, however, consider the possible
security implications of providing additional vectors of access. The
<tt class="docutils literal">port</tt> option in this file specifies the default port, but can be
modified depending on your own use cases.</p>
<p>Setting the <tt class="docutils literal">fork</tt> option to equal <tt class="docutils literal">true</tt> configures MongoDB to
run as a daemon process in the background independently of the current
user's session. Please note that MongoDB will run under the user that
executes the <tt class="docutils literal"><span class="pre">mongodb-start</span></tt> script. We <strong>strongly</strong> recommend that
this user <em>not</em> be root or another privileged user account. Any
process connecting to MongoDB could then potentially escalate to the
privileges of the user running the daemon process. To provide
additional security, we recommend setting the <tt class="docutils literal">auth</tt> option to

<tt class="docutils literal">true</tt> to take advantage of MongoDB's internal authentication
mechanism. If you need to test the database without
authentication, you can remove the <tt class="docutils literal">auth</tt> option and set the
<tt class="docutils literal">noauth</tt> option.</p>
<p>Modify <tt class="docutils literal"><span class="pre">/opt/bin/mongodb-start</span></tt> and <tt class="docutils literal">/opt/config/mongodb</tt> as
needed to suit the needs of your deployment. Finally, all sections
preceded by a hash symbol (e.g. <tt class="docutils literal">#</tt>) are comments and are not
interpreted by <tt class="docutils literal">bash</tt>.</p>

<p>When you run the command <tt class="docutils literal"><span class="pre">/opt/bin/mongodb-stop</span></tt> by contrast, the
MongoDB process will stop. Issue the following two commands to set
these files as executable:</p>
<pre class="literal-block">
chmod +x /opt/bin/mongodb-start
chmod +x /opt/bin/mongodb-stop
</pre>
</div>
<div class="section" id="using-a-basic-init-script">
<a name="using_a_basic_init_script"></a><h2>Using a Basic Init Script&nbsp;<a href="http://library.linode.com/GZQjcj"><img src="/images/link-icon.png" style="border:none; margin: 0px; padding: 0px;" alt="Link" /></a></h2>
<p>We've also created a <em>very</em> basic &quot;init script&quot; as a wrapper around
the <tt class="docutils literal"><span class="pre">mongodb-start</span></tt> and <tt class="docutils literal"><span class="pre">mongo-stop</span></tt> scripts described above. You
will still need to modify and manage the configuration of your MongoDB
server in the files above. This script only provides a means for
ensuring that MongoDB will start at boot. Issue the following
commands:</p>

<pre class="literal-block">
wget http://library.linode.com/databases/mongodb/reference/init-deb.sh
mv init-deb.sh /etc/init.d/mongodb
chmod +x /etc/init.d/mongodb
/usr/sbin/update-rc.d -f mongodb defaults
</pre>
<p>You will also need to create a user and group for mongodb; issue the
following command:</p>
<pre class="literal-block">
adduser --system --no-create-home --disabled-login --disabled-password --group mongodb
</pre>
<p>Now issue the following command to ensure that the MongoDB user you
just created will have access to all required files in the
<tt class="docutils literal">/srv/db/</tt> hierarchy:</p>
<pre class="literal-block">
chown mongodb:mongodb -R /srv/db/
</pre>
<p>To start and stop MongoDB using the init script, issue the appropriate
command from the following:</p>

<pre class="literal-block">
/etc/init.d/mongodb start
/etc/init.d/mongodb stop
</pre>
<p>Congratulations, you now have a fully functional installation of the
MongoDB system.</p>
</div>
<div class="section" id="additional-mongodb-functionality">
<a name="additional_mongodb_functionality"></a><h2>Additional MongoDB Functionality&nbsp;<a href="http://library.linode.com/OOhfIN"><img src="/images/link-icon.png" style="border:none; margin: 0px; padding: 0px;" alt="Link" /></a></h2>
<p>Now that MongoDB is running properly, you can begin to explore
some of its features. Most interaction with MongoDB is done via
the rich set of <a class="reference external" href="http://www.mongodb.org/display/DOCS/Drivers">language-specific drivers</a><img src="/images/external-link-icon.png" alt="External Link" style="border:0px;margin:0px;padding:0px;" />.
There are also a number of tools in the <tt class="docutils literal">/opt/mongodb/bin/</tt> directory
that you might find useful for interacting with MongoDB
databases. Notably, the <tt class="docutils literal">mongo</tt> utility provides an
interactive JavaScript shell for MongoDB including commands such as <tt class="docutils literal">mongodump</tt> and

<tt class="docutils literal">mongorestore</tt> for creating and restoring backups and
snapshots as well <tt class="docutils literal">mongoexport</tt> and <tt class="docutils literal">mongoimportjson</tt> for
exporting individual collections in JSON format.</p>
<p>You can now fully enjoy application development with MongoDB!</p>
<p></p>
</div>
<div class="section" id="more-information">
<a name="more_information"></a><h2>More Information&nbsp;<a href="http://library.linode.com/UexUHw"><img src="/images/link-icon.png" style="border:none; margin: 0px; padding: 0px;" alt="Link" /></a></h2>

<p>You may wish to consult the following resources for additional information on this topic. While these
are provided in the hope that they will be useful, please note that we cannot vouch for the accuracy or
timeliness of externally hosted materials.</p>
<ul class="simple">
<li><a class="reference external" href="http://www.mongodb.org/">MongoDB Project</a><img src="/images/external-link-icon.png" alt="External Link" style="border:0px;margin:0px;padding:0px;" /></li>
<li><a class="reference external" href="http://www.mongodb.org/display/DOCS/Drivers">Language-Specific MongoDB Drivers</a><img src="/images/external-link-icon.png" alt="External Link" style="border:0px;margin:0px;padding:0px;" /></li>
<li><a class="reference external" href="http://mongo.kylebanker.com/">MongoDB Shell</a><img src="/images/external-link-icon.png" alt="External Link" style="border:0px;margin:0px;padding:0px;" /></li>
<li><a class="reference external" href="http://www.mongodb.org/display/DOCS/MapReduce">MapReduce Paradigm and MongoDB</a><img src="/images/external-link-icon.png" alt="External Link" style="border:0px;margin:0px;padding:0px;" /></li>
<li><a class="reference external" href="http://www.mongodb.org/display/DOCS/Sharding">MongoDB Sharding</a><img src="/images/external-link-icon.png" alt="External Link" style="border:0px;margin:0px;padding:0px;" /></li>
<li><a class="reference external" href="http://www.mongodb.org/display/DOCS/Command+Line+Parameters">Configuration Parameters</a><img src="/images/external-link-icon.png" alt="External Link" style="border:0px;margin:0px;padding:0px;" /></li>
<li><a class="reference external" href="http://www.mongodb.org/display/DOCS/File+Based+Configuration">File Based Configuration</a><img src="/images/external-link-icon.png" alt="External Link" style="border:0px;margin:0px;padding:0px;" /></li>

</ul>
</div>
<div class="section" id="license">
<a name="license"></a><h2>License&nbsp;<a href="http://library.linode.com/qVmaTd"><img src="/images/link-icon.png" style="border:none; margin: 0px; padding: 0px;" alt="Link" /></a></h2>
<p>This guide is licensed under a <a class="reference external" href="http://creativecommons.org/licenses/by-nd/3.0/us/">Creative Commons Attribution-No Derivative Works 3.0 United States License</a><img src="/images/external-link-icon.png" alt="External Link" style="border:0px;margin:0px;padding:0px;" />.
Please feel free to redistribute unmodified copies of it as long as attribution is provided, preferably via a link to this page.</p>
</div>
</div>

<!-- [COMMENTS] -->     <!-- [/COMMENTS] -->

<div id="comment_input" class="comment_input">
	<h2>Got a comment?</h2>

	<div class="comment_preview" id="comment_preview"></div>

	<form id="comment_form" class="comment_form" action="/comment.pl" method="post">
		<fieldset style="border:0px; margin:0px; padding:0px;">
		BBCode formatting is allowed. Email addresses are confidential, and are only used for gravatars and sending document/comment updates if requested. 
		Please refer to our <a href="http://www.linode.com/privacy.cfm">privacy policy</a>. All comments are moderated and may take some time to appear on this page.<br /><br />

		<label for="comment_poster">Your&nbsp;Name&nbsp;(optional):</label>

		<input id="comment_poster" name="comment_poster" type="text" value="" /><br />
	
		<label for="comment_poster_email">Your Email&nbsp;(optional):</label>
		<input id="comment_poster_email" name="comment_poster_email" type="text" value="" /><br />
	
		<label for="check_notify">Notify&nbsp;on&nbsp;update?</label>
		<input class="comment_form_checkbox" id="check_notify" name="check_notify" type="checkbox" value="1" /><br /><br />

		<label for="comment">Comment:</label>

		<textarea name="comment" id="comment" rows="10" cols="60"></textarea><br />

		<input id="button_value" type="hidden" name="button_value" value="imabot" />
		</fieldset>
	</form>
	<span style="margin-left:180px;">
		<input type="button" class="comment_form_button" id="button_preview" name="button_preview" value="Preview" onclick="if (trim($('comment').value) == '') { $('comment_preview').style.visibility = 'hidden'; $('comment_preview').innerHTML = ''; $('comment_preview').style.display = 'none'; alert('Please enter a comment first.'); return false; } $('button_value').value = 'preview'; $('comment_form').request({onComplete: function(returned){$('comment_preview').innerHTML = returned.responseText; $('comment_preview').style.visibility = 'visible'; $('comment_preview').style.display = 'block'; $('comment_preview').style.height = '100%'; $('comment_preview').style.marginBottom = '10px'; }}); return false;" />&nbsp;
		<input type="button" class="comment_form_button" name="button_submit" value="Submit" onclick="if (trim($('comment').value) == '') { alert('Please enter a comment first.'); return false; } $('button_value').value = 'submit'; $('comment_form').request({onSuccess: function(returned){$('comment_preview').style.visibility = 'hidden'; $('comment_preview').borderStyle = 'none'; $('comment_preview').style.display = 'none'; $('comment_preview').style.height = '0'; $('comment_input').innerHTML = returned.responseText;}}); return false;" />
	</span>

</div>



</div>

<script type="text/javascript">
var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
</script>
<script type="text/javascript">
try {
var pageTracker = _gat._getTracker("UA-177150-2");
pageTracker._trackPageview();
} catch(err) {}</script>

</body>
</html>
